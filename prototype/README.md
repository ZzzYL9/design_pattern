
## 设计模式之原型模式 --对象创建型模式

### 用原型实例指定创建对象的种类,并且通过拷贝这些原型创建新的对象.对外提供clone方法，如果类成员有在堆区开辟空间，需要重新拷贝构造函数进行深拷贝！clone方法本质还是调用拷贝构造函数。注意，我们的析构函数要释放堆区开辟的内容

### 可以这样理解:一个对象的产生可以不由零起步,直接从一个已经具备一定雏形的对象克隆,然后再修改为生产需要的对象。

![Image](https://github.com/ZzzYL9/design_pattern/tree/master/class_images/prototype.png)

优点：

    ① 使用原型模型创建一个对象比直接new一个对象更有效率，因为它直接操作内存中的二进制流，特别是复制大对象时，性能的差别非常明显。
    
    ② 隐藏了制造新实例的复杂性，使得创建对象就像我们在编辑文档时的复制粘贴一样简单
    
缺点：
    
    ① 由于使用原型模式复制对象时不会调用类的构造方法，所以原型模式无法和单例模式组合使用，因为原型类需要将clone方法的作用域修改为public类型，那么单例模式的条件就无法满足了。
    
    ② 使用原型模式时不能有final对象
    
    
适用场景：
    
    ① 资源优化场景：
        
        类初始化需要消耗非常多的资源，这个资源包括数据、硬件资源等
        
    ② 性能和安全要求的场景：
        
        通过new产生一个对象需要非常繁琐的数据准备或访问权限，则可以使用原型模式
        
    ③ 一个对象多个修改者的场景：
    
        一个对象需要提供给其他对象访问,而且各个调用者可能都需要修改其值时,可以考虑使用原型模式拷贝多个对象供调用者使用。
        
        在实际项目中,原型模式很少单独出现,一般是和工厂方法模式一起出现,通过clone的方法创建一个对象,然后由工厂方法提供给调用者。
        
