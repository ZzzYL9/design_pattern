
## 设计模式： 代理模式 --对象结构型模式

### 为其他对象提供一种代理以控制对这个对象的访问

![Image](https://github.com/ZzzYL9/design_pattern/tree/master/class_images/proxy.png)

按使用目的划分代理的种类：

    ① 远程（Remote）代理： 为一个位于不同的地址空间的对象提供一个局域代表对象。这个不同的地址空间可以是在本机器中，也可以是在另一台机器中。远程代理又叫做大使。也就是为一个对象在不同的地址空间提供局部代表，这样可以隐藏一个对象存在于不同地址空间的事实
    
    ② 虚拟（Virtual）代理： 根据需要创建一个资源消耗较大的对象，使得此对象只在需要时才会被真正的创建，是根据需要创建开销很大的对象。通过它来存放实例化需要很长时间的真实对象
    
    ③ Copy-on-Write代理： 虚拟代理的一种，把复制拖延到只有在客户端需要时才会真正采取行动
    
    ④ 保护（Protect or Access）代理： 控制对一个对象的访问，如果需要，可以给不同的用户提供不同级别的使用权限。用来控制真实对象访问时的权限，一般用于对象应该有不同的访问权限的时候
    
    ⑤ Cache代理： 为某一个目标操作的结果提供临时的存储空间，以便多个客户端可以共享这些结果
    
    ⑥ 防火墙（Firewall）代理：保护目标，不让恶意用户接近。 
    
    ⑦ 同步化（Synchronization）代理：使几个用户能够同时使用一个对象而没有冲突。
    
    ⑧ 智能引用（Smart Reference）代理：当一个对象被引用时，提供一些额外的操作，比如将对此对象调用的次数记录下来等。 是指当调用真实的对象时，代理处理另外一些事。如计算真实对象的引用次数，这样当该对象没有引用时，可以自动释放它；或当第一次引用一个持久对象时，将它装入内存；或在访问一个实际对象前，检查是否已经锁定它，以确保其他对象不能改变它。它们都是通过代理在访问一个对象时附加一些内务处理。

优点：

    ① 职责清晰（实现好内部结构就可以，具体客户要求由代理进行分化）

    ② 高扩展性（具体主题角色随时变化，只要他实现了接口，无论如何都逃不出代理的手掌，所以代理无论如何都是可以使用的）

    ③ 智能化
